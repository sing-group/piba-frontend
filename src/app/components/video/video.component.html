<!--
  ~  PIBA Frontend
  ~
  ~ Copyright (C) 2018-2020 - Miguel Reboiro-Jato,
  ~ Daniel Glez-Peña, Alba Nogueira Rodríguez, Florentino Fdez-Riverola,
  ~ Rubén Domínguez Carbajales, Jesús Miguel Herrero Rivas,
  ~ Eloy Sánchez Hernández, Laura Rivas Moral,
  ~ Manuel Puga Jiménez de Azcárate, Joaquín Cubiella Fernández,
  ~ Hugo López-Fernández, Silvia Rodríguez Iglesias, Fernando Campos Tato.
  ~
  ~  This program is free software: you can redistribute it and/or modify
  ~  it under the terms of the GNU General Public License as published by
  ~  the Free Software Foundation, either version 3 of the License, or
  ~  (at your option) any later version.
  ~
  ~  This program is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~  GNU General Public License for more details.
  ~
  ~  You should have received a copy of the GNU General Public License
  ~  along with this program. If not, see <http://www.gnu.org/licenses/>.
  -->

<div #container class="video-container">
  <video crossorigin="anonymous" #video id="video-exploration">
    <ng-content></ng-content>
  </video>
  <div class="controls">
    <button class="play" aria-label="play pause toggle" (click)="playVideo()">
      <clr-icon *ngIf="!paused" shape="pause"></clr-icon>
      <clr-icon *ngIf="paused" shape="play"></clr-icon>
    </button>
    <button class="stop" aria-label="stop" (click)="stopVideo()">
      <clr-icon shape="stop"></clr-icon>
    </button>
    <div class="timer">
      <input #progressbar id="progress" type="range" class="margin-progress"
             (mousedown)="mouseDownProgress()" (mouseup)="mouseUpProgress()">
      <span>{{displayTime | time}}/{{duration | time}}</span>
    </div>

    <button class="snapshot" aria-label="snapshot"
            (click)="getSnapshot()">
      <clr-icon shape="camera"></clr-icon>
    </button>
    <button class="backward" aria-label="backward" (click)="backwardVideo()">
      <clr-icon shape="rewind"></clr-icon>
    </button>
    <button class="forward" aria-label="fast forward" (click)="forwardVideo()">
      <clr-icon shape="fast-forward"></clr-icon>
    </button>
    <select aria-label="video speed" [(ngModel)]='videoSpeed'>
      <option value="1">x1</option>
      <option value="3">x3</option>
      <option value="5">x5</option>
    </select>
    <button class="fullscreen" aria-label="fullscreen" (click)="fullscreenVideo()">
      <clr-icon *ngIf="!fullscreen" shape="resize-up"></clr-icon>
      <clr-icon *ngIf="fullscreen" shape="resize-down"></clr-icon>
    </button>
  </div>
</div>
