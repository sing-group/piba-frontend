<div [hidden]="image.id == null">
  <div class="clr-row clr-justify-content-end">
    <button class="btn btn-primary" (click)="back()">Back</button>
  </div>
  <div class="clr-row container">
    <div class="clr-col-1 container-move">
      <button class="btn btn-link" (click)="move(-1)" [disabled]="getPositionInArray() <= 0">
        <i class="arrow-left"></i>
      </button>
    </div>
    <div class="clr-col-10">
      <div align="center">
        <canvas id="canvas"></canvas>
      </div>
      <div align="center">
        <button class="btn btn-success" (click)="save()"
                [disabled]="last_mousex == null && last_mousey == null && width==null && height==null">
          <clr-icon shape="plus"></clr-icon>
          Save
        </button>
        <button class="btn btn-primary"
                (click)="clear(); image.polypLocation != null ? deleteLocation(image.id) : false;">
          <clr-icon shape="refresh"></clr-icon>
          Clear
        </button>
        <button class="btn btn-danger" (click)="deleting = true">
          <clr-icon shape="trash"></clr-icon>
          Remove image
        </button>
      </div>
    </div>
    <div class="clr-col-1 container-move">
      <button class="btn btn-link" (click)="move(+1)" [disabled]="getPositionInArray() >= images.length-1">
        <i class="arrow-right"></i>
      </button>
    </div>
  </div>

  <clr-modal [(clrModalOpen)]="definingDeletion" [clrModalClosable]="false">
    <h3 class="modal-title">Reason to delete this image</h3>
    <div class="modal-body">
      <form>
        <section class="form-block">
          <div class="form-group">
            <label for="selectToRemove">Select a reason</label>
            <div class="select">
              <select id="selectToRemove" name="selectedToRemove" required [(ngModel)]="selected">
                <option *ngFor="let option of options" [ngValue]="option" (click)="observationToRemove = null">
                  {{option}}
                </option>
              </select>
            </div>
          </div>
          <div *ngIf="selected == 'Others'" class="form-group">
            <label>Describe the reason </label>
            <input type="text" name="observationToRemove" [(ngModel)]="observationToRemove"/>
          </div>
        </section>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline" (click)="cancel()">Cancel</button>
      <button type="button" class="btn btn-danger-outline" (click)="remove()"
              [disabled]="(!observationToRemove && selected == 'Others') || selected == null">Delete
      </button>
    </div>
  </clr-modal>

  <app-delete-confirmation *ngIf="deleting" [modelName]="'image'" [id]="image.id"
                           [name]="'this image'" [cancel]="cancel.bind(this)" [delete]="delete.bind(this)"
  >
  </app-delete-confirmation>

</div>





